<div class="lecture-container">
  <div class="lecture-header">
    <div class="header-title">
      <mat-icon class="header-icon" (click)="returnToMenu()">arrow_back</mat-icon>
      <h2>NIVEL {{courseService.currentCourse === 'basic' ? 'BÁSICO' : courseService.currentCourse === 'intermediate'
        ? 'INTERMEDIO' : 'AVANZADO'}} - LECCIÓN {{courseService.currentLesson}} - LECTURA</h2>
    </div>
    <div class="progress-bar-container smaller-progress-bar">
      <b>Progreso: </b>
      <div class="progress-bar">
        <div class="current-progress" [style.width.%]="getCurrentCompletion()">{{getCurrentCompletion() === 0 ? '‎' : getCurrentCompletion() + '%'}}</div>
      </div>
    </div>
  </div>
  <div class="lecture-content">
    <h2 class="lecture-title">LECTURA</h2>
    <div class="lecture-body">
      <div class="text-container" *ngIf="lectureData">
        <h3 class="text-title">{{lectureData.lectureTitle}}</h3>
        <p>{{lectureData.lectureContent}}</p>
      </div>
      <div class="video-container" *ngIf="lectureData">
        <iframe width="560" height="315" [src]="trustURL()" [title]="lectureData.lectureVideoDescription" class="video-content"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
      </div>
    </div>
    <div class="lecture-actions">
      <button class="btn-secondary action-button" type="button" (click)="returnToMenu()">VOLVER AL MENÚ</button>
      <button class="btn-primary action-button" type="button" (click)="submitLecture()">CONTINUAR</button>
    </div>
  </div>
</div>
